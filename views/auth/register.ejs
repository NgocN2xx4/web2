<%- include('header') %>
<div class="container d-flex justify-content-center align-items-center min-vh-100">
	<div class="card shadow-lg p-4" style="max-width: 400px; width: 100%; border-radius: 15px;">
		<div class="card-header text-center bg-transparent border-0">
			<h3 class="mb-0" style="font-weight: 600; color: #333;">Đăng ký</h3>
			<div class="d-flex justify-content-center social_icon mt-3 gap-3">
				<a href="#" class="text-primary"><i class="fab fa-facebook-square fa-2x"></i></a>
				<a href="/auth/google" class="text-danger"><i class="fab fa-google fa-2x"></i></a>
				<a href="#" class="text-info"><i class="fab fa-twitter-square fa-2x"></i></a>
			</div>
		</div>
		<div class="card-body">
			<% if (message) { %>
				<div class="alert alert-<%= message.type %> alert-dismissible fade show" role="alert">
					<%= message.content %>
					<button type="button" class="btn-close" data-dismiss="alert" aria-label="Close"></button>
				</div>
			<% } %>
			<form method="POST" action="/register" id="registerForm">
				<div class="input-group form-group mb-3">
					<span class="input-group-text bg-light border-0"><i class="fas fa-user text-muted"></i></span>
					<input id="name" type="text" class="form-control rounded-end" name="name" required autocomplete="name" autofocus placeholder="Họ và tên" style="transition: all 0.3s;">
					<div class="invalid-feedback">Vui lòng nhập họ và tên.</div>
				</div>
				<div class="input-group form-group mb-3">
					<span class="input-group-text bg-light border-0"><i class="fas fa-envelope text-muted"></i></span>
					<input id="email" type="email" class="form-control rounded-end" name="email" required autocomplete="email" placeholder="Email" style="transition: all 0.3s;">
					<div class="invalid-feedback">Vui lòng nhập email hợp lệ.</div>
				</div>
				<div class="input-group form-group mb-3">
					<span class="input-group-text bg-light border-0"><i class="fas fa-phone text-muted"></i></span>
					<input id="phone" type="tel" class="form-control rounded-end" name="phone" required autocomplete="tel" placeholder="Số điện thoại" pattern="[0-9]{10,15}" style="transition: all 0.3s;">
					<div class="invalid-feedback">Vui lòng nhập số điện thoại hợp lệ (10-15 số).</div>
				</div>
				<div class="input-group form-group mb-3">
					<span class="input-group-text bg-light border-0"><i class="fas fa-key text-muted"></i></span>
					<input id="password" type="password" class="form-control rounded-end" name="password" required autocomplete="new-password" placeholder="Mật khẩu" style="transition: all 0.3s;">
					<div class="invalid-feedback">Vui lòng nhập mật khẩu.</div>
				</div>
				<div class="input-group form-group mb-3">
					<span class="input-group-text bg-light border-0"><i class="fas fa-key text-muted"></i></span>
					<input id="password-confirm" type="password" class="form-control rounded-end" name="password_confirmation" required autocomplete="new-password" placeholder="Nhập lại mật khẩu" style="transition: all 0.3s;">
					<div class="invalid-feedback">Mật khẩu nhập lại không khớp.</div>
				</div>
				<div class="form-check mb-3">
					<input class="form-check-input" type="checkbox" id="rememberMe">
					<label class="form-check-label" for="rememberMe" style="color: white;">Ghi nhớ đăng nhập</label>
				</div>
				<div class="d-flex flex-column gap-2">
					<a href="/auth/google" class="btn btn-outline-danger d-flex align-items-center justify-content-center gap-2">
						<i class="bi bi-google"></i> Đăng ký với Google
					</a>
					<button type="submit" class="btn btn-primary register_btn" style="background: linear-gradient(90deg, #007bff, #0056b3); transition: all 0.3s;">
						<span class="register-text">Đăng ký</span>
						<span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
					</button>
				</div>
			</form>
		</div>
		<div class="card-footer bg-transparent border-0 text-center">
			<div class="mb-2" style="color: white;">
				Đã có tài khoản? <a href="/login" class="text-primary">Đăng nhập</a>
			</div>
		</div>
	</div>
</div>
<style>
.card {
	transition: transform 0.3s, box-shadow 0.3s;
}
.card:hover {
	transform: translateY(-5px);
	box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15) !important;
}
.input-group-text {
	border-radius: 0.25rem 0 0 0.25rem !important;
}
.form-control:focus {
	border-color: #007bff;
	box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}
.btn:hover {
	filter: brightness(1.1);
}
.social_icon a {
	transition: transform 0.2s;
}
.social_icon a:hover {
	transform: scale(1.2);
}
.alert {
	border-radius: 10px;
}
</style>
<script>
document.getElementById('registerForm')?.addEventListener('submit', function(e) {
	const submitButton = this.querySelector('.register_btn');
	const registerText = submitButton.querySelector('.register-text');
	const spinner = submitButton.querySelector('.spinner-border');
	submitButton.disabled = true;
	registerText.classList.add('d-none');
	spinner.classList.remove('d-none');
	setTimeout(() => {
		submitButton.disabled = false;
		registerText.classList.remove('d-none');
		spinner.classList.add('d-none');
	}, 2000); // Simulate loading
});
</script>
<%- include('script') %>